(()=>{"use strict";var e={d:(t,n)=>{for(var o in n)e.o(n,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:n[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};function t(){const e=document.createElement("div");e.className="wrapper-game";const t=document.createElement("div");t.className="block-buttons",t.insertAdjacentHTML("afterbegin",'<button class="new-game">New game</button>\n    <button class="switch-sound">Sound Off</button>\n    <button class="save">Save</button>\n    <button class="load">Load</button>\n    <button class="records">Results</button>');const n=document.createElement("div");n.className="block-info",n.insertAdjacentHTML("afterbegin",'<div>Step:</div>\n    <div class="moves">0</div>\n    <div>Time:</div>\n    <div class="time"></div>');const o=document.createElement("div");o.className="block-gamefild";let l="";for(let e=0;e<p.length;e++)0!==p[e]?l+=`<div class="cell">${p[e]}</div>`:l+=`<div class="cell" style="display: none">${p[e]}</div>`;o.insertAdjacentHTML("afterbegin",`${l}`);const a=document.createElement("div");return a.className="block-changegame",a.insertAdjacentHTML("afterbegin",'<input type="radio" id="radio9" name="radio" class="radio" value="3">\n    <label for="radio9">3x3</label>    \n    <input type="radio" id="radio16" name="radio" class="radio" value="4">\n    <label for="radio16">4x4</label>\n    <input type="radio" id="radio25" name="radio" class="radio" value="5">\n    <label for="radio25">5x5</label>\n    <input type="radio" id="radio36" name="radio" class="radio" value="6">\n    <label for="radio36">6x6</label>\n    <input type="radio" id="radio49" name="radio" class="radio" value="7">\n    <label for="radio49">7x7</label>\n    <input type="radio" id="radio64" name="radio" class="radio" value="8">\n    <label for="radio64">8x8</label>'),e.append(t),e.append(n),e.append(o),e.append(a),document.body.append(e),e}function n(e){let t=document.createElement("div");t.className="overlay",t.innerHTML=`\n  <div class="win" onclick="event.stopPropagation()">\n    <div class="close">\n      <img class="modal-close" src="./src/assets/x_icon.png" alt="close">        \n    </div>\n    ${e}\n  </div>`,document.body.append(t);let n=document.querySelector(".close");t.addEventListener("click",l),n.addEventListener("click",l)}function o(){let e=JSON.parse(localStorage.getItem("records")),t="";if(e)for(let n=0;n<e.length;n++)t+=`<tr><td>${n+1}</td><td>${e[n].size}</td><td>${e[n].time}</td><td>${e[n].step}</td></tr>`;n(`\n    <table class="table">\n    <caption>Score table</caption>\n    <tr><th>â„–</th><th>Size</th><th>Time</th><th>Moves</th></tr>\n    ${t}\n    </table>`)}function l(){document.querySelector(".overlay").remove()}function a(e){let t=[],n=[];for(let o=1;o<=e**2-1;o++)t.push(o),n.push(o);!function(e){for(let t=e.length-1;t>0;t--){let n=Math.floor(Math.random()*(t+1));[e[t],e[n]]=[e[n],e[t]]}}(t);let o=0;for(let e=0;e<t.length;e++)for(let n=e;n<=t.length;n++)t[e]>t[n]&&o++;e%2!=0&&o%2!=0||e%2==0&&o%2!=0?a(e):(t.push(0),n.push(0),p=t,f=n)}function r(){localStorage.setItem("savedArr",p),localStorage.setItem("savedStep",g),localStorage.setItem("savedSec",S),localStorage.setItem("savedMin",y),localStorage.setItem("savedSize",m)}function c(){if(localStorage.getItem("savedArr")){let e=[];localStorage.getItem("savedArr").split(",").forEach((t=>e.push(+t))),p=e,S=+localStorage.getItem("savedSec"),y=+localStorage.getItem("savedMin"),g=+localStorage.getItem("savedStep"),m=+localStorage.getItem("savedSize"),document.querySelector(".moves").textContent=g,E()}else n("No saved game!")}function s(){g++,document.querySelector(".moves").textContent=g}function i(){const e=new Audio("./src/assets/step.mp3");e.autoplay=v,e.loop=!1}function d(){v?(v=!1,this.textContent="Sound On"):(v=!0,this.textContent="Sound Off")}function u(){m=+this.value,b(),this.checked=!0}e.d({},{ED:()=>v,wu:()=>p,JL:()=>m,VV:()=>y,wo:()=>b,lG:()=>E,BE:()=>S,I3:()=>f,Nb:()=>g});let m=3,v=!0,f=[],p=[],g=0,y=0,S=0;function b(){document.body.innerHTML="",a(m),t(),$(m),y=0,S=0,g=0,h()}function h(){document.querySelector(".new-game").addEventListener("click",b),document.querySelector(".switch-sound").addEventListener("click",d),document.querySelector(".save").addEventListener("click",r),document.querySelector(".load").addEventListener("click",c),document.querySelector(".records").addEventListener("click",o),document.querySelectorAll(".cell").forEach((e=>e.addEventListener("click",(e=>function(e){const t=document.querySelectorAll(".cell");let o,l=+e.target.innerHTML;for(let e=0;e<p.length;e++)p[e]===l&&(o=e);let a=function(e){let t=e.style.transform,n=[];return t.slice(10,t.length-1).split(", ").forEach((e=>n.push(e.slice(0,e.length-1)))),n}(t[o]),r=+a[0],c=+a[1];0===p[o+m]?(t[o].style.transform=`translate(${r}%, ${c+100}%)`,p[o+m]=p[o],p[o]=0,s(),i()):0===p[o-m]?(t[o].style.transform=`translate(${r}%, ${c-100}%)`,p[o-m]=p[o],p[o]=0,s(),i()):0===p[o+1]&&(o+1)%m!=0?(t[o].style.transform=`translate(${r+100}%, ${c}%)`,p[o+1]=p[o],p[o]=0,s(),i()):0===p[o-1]&&o%m!=0&&(t[o].style.transform=`translate(${r-100}%, ${c}%)`,p[o-1]=p[o],p[o]=0,s(),i()),setTimeout(E,100),function(){if(JSON.stringify(p)===JSON.stringify(f)){let e=y<10?"0"+y:y,t=S<10?"0"+S:S,o=JSON.parse(localStorage.getItem("records"))||[],l={size:`${m} x ${m}`,time:`${e} : ${t}`,step:`${g}`};o.push(l),localStorage.setItem("records",JSON.stringify(o)),n(`Hooray! You solved the puzzle in ${y<10?"0"+y:y} : ${S<10?"0"+S:S} and ${g} moves!`)}}()}(e))))),document.querySelectorAll(".radio").forEach((e=>e.addEventListener("click",u)))}function $(e){const t=document.querySelectorAll(".cell");let n=0,o=0;for(let l=0;l<t.length;l+=e){for(let l=0;l<e;l++)n<=e**2-1&&(t[n].style.transform=`translate(${0+100*l}%, ${0+100*o}%)`,t[n].style.width=100/e+"%",t[n].style.height=100/e+"%",n++);o++}}function E(){const e=document.querySelector(".block-gamefild");let t="";for(let e=0;e<p.length;e++)0!==p[e]?t+=`<div class="cell" draggable="true">${p[e]}</div>`:t+=`<div class="cell empty" style="display: none">${p[e]}</div>`;e.innerHTML=t,$(m),h()}a(m),t(),$(m),function e(){document.querySelector(".time").textContent=`${y<10?"0"+y:y} : ${S<10?"0"+S:S}`,S++,S>=60&&(y++,S=0),setTimeout(e,1e3)}(),h()})();