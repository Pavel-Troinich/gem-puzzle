(()=>{"use strict";var e={d:(t,n)=>{for(var o in n)e.o(n,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:n[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};function t(){const e=document.createElement("div");e.className="wrapper-game";const t=document.createElement("div");t.className="block-buttons",t.insertAdjacentHTML("afterbegin",'<button class="new-game">New game</button>\n    <button class="switch-sound">Sound Off</button>\n    <button class="save">Save</button>\n    <button class="load">Load</button>\n    <button class="records">Results</button>');const n=document.createElement("div");n.className="block-info",n.insertAdjacentHTML("afterbegin",'<div>Step:</div>\n    <div class="moves">0</div>\n    <div>Time:</div>\n    <div class="time"></div>');const o=document.createElement("div");o.className="block-gamefild";let l="";for(let e=0;e<v.length;e++)0!==v[e]?l+=`<div class="cell">${v[e]}</div>`:l+=`<div class="cell" style="display: none">${v[e]}</div>`;o.insertAdjacentHTML("afterbegin",`${l}`);const a=document.createElement("div");return a.className="block-changegame",a.insertAdjacentHTML("afterbegin",'<input type="radio" id="radio9" name="radio" class="radio" value="3">\n    <label for="radio9">3x3</label>    \n    <input type="radio" id="radio16" name="radio" class="radio" value="4">\n    <label for="radio16">4x4</label>\n    <input type="radio" id="radio25" name="radio" class="radio" value="5">\n    <label for="radio25">5x5</label>\n    <input type="radio" id="radio36" name="radio" class="radio" value="6">\n    <label for="radio36">6x6</label>\n    <input type="radio" id="radio49" name="radio" class="radio" value="7">\n    <label for="radio49">7x7</label>\n    <input type="radio" id="radio64" name="radio" class="radio" value="8">\n    <label for="radio64">8x8</label>'),e.append(t),e.append(n),e.append(o),e.append(a),document.body.append(e),e}function n(){let e=JSON.parse(localStorage.getItem("records")),t="",n=document.createElement("div");if(n.className="overlay",n.innerHTML='\n  <div class="results" onclick="event.stopPropagation()">\n    <div class="close">\n      <img class="modal-close" src="../src/assets/x_icon.png" alt="close">        \n    </div>\n    <table class="table">\n      <caption>Score table</caption>\n      <tr><th>â„–</th><th>Size</th><th>Time</th><th>Moves</th></tr>     \n    </table>\n  </div>',document.body.append(n),e)for(let n=0;n<e.length;n++)t+=`<tr><td>${n+1}</td><td>${e[n].size}</td><td>${e[n].time}</td><td>${e[n].step}</td></tr>`;document.querySelector(".table").insertAdjacentHTML("beforeend",t);let l=document.querySelector(".close");n.addEventListener("click",o),l.addEventListener("click",o)}function o(){document.querySelector(".overlay").remove()}function l(e){let t=[],n=[];for(let o=1;o<=e**2-1;o++)t.push(o),n.push(o);!function(e){for(let t=e.length-1;t>0;t--){let n=Math.floor(Math.random()*(t+1));[e[t],e[n]]=[e[n],e[t]]}}(t);let o=0;for(let e=0;e<t.length;e++)for(let n=e;n<=t.length;n++)t[e]>t[n]&&o++;e%2!=0&&o%2!=0||e%2==0&&o%2!=0?l(e):(t.push(0),n.push(0),v=t,m=n)}function a(){localStorage.setItem("savedArr",v),localStorage.setItem("savedStep",f),localStorage.setItem("savedSec",g),localStorage.setItem("savedMin",p),localStorage.setItem("savedSize",d)}function c(){let e=[];localStorage.getItem("savedArr").split(",").forEach((t=>e.push(+t))),v=e,g=+localStorage.getItem("savedSec"),p=+localStorage.getItem("savedMin"),f=+localStorage.getItem("savedStep"),d=+localStorage.getItem("savedSize"),document.querySelector(".moves").textContent=f,h()}function r(){f++,document.querySelector(".moves").textContent=f,function(){const e=new Audio("../src/assets/step.mp3");e.autoplay=u,e.loop=!1}()}function s(){u?(u=!1,this.textContent="Sound On"):(u=!0,this.textContent="Sound Off")}function i(){d=+this.value,y(),this.checked=!0}e.d({},{ED:()=>u,wu:()=>v,JL:()=>d,VV:()=>p,wo:()=>y,lG:()=>h,BE:()=>g,I3:()=>m,Nb:()=>f});let d=3,u=!0,m=[],v=[],f=0,p=0,g=0;function y(){document.body.innerHTML="",l(d),t(),b(d),p=0,g=0,f=0,S()}function S(){document.querySelector(".new-game").addEventListener("click",y),document.querySelector(".switch-sound").addEventListener("click",s),document.querySelector(".save").addEventListener("click",a),document.querySelector(".load").addEventListener("click",c),document.querySelector(".records").addEventListener("click",n),document.querySelectorAll(".cell").forEach((e=>e.addEventListener("click",(e=>function(e){const t=document.querySelectorAll(".cell");let n,l=+e.target.innerHTML;for(let e=0;e<v.length;e++)v[e]===l&&(n=e);let a=function(e){let t=e.style.transform,n=[];return t.slice(10,t.length-1).split(", ").forEach((e=>n.push(e.slice(0,e.length-1)))),n}(t[n]),c=+a[0],s=+a[1];0===v[n+d]?(t[n].style.transform=`translate(${c}%, ${s+100}%)`,v[n+d]=v[n],v[n]=0,r()):0===v[n-d]?(t[n].style.transform=`translate(${c}%, ${s-100}%)`,v[n-d]=v[n],v[n]=0,r()):0===v[n+1]&&(n+1)%d!=0?(t[n].style.transform=`translate(${c+100}%, ${s}%)`,v[n+1]=v[n],v[n]=0,r()):0===v[n-1]&&n%d!=0&&(t[n].style.transform=`translate(${c-100}%, ${s}%)`,v[n-1]=v[n],v[n]=0,r()),setTimeout(h,100),function(){if(JSON.stringify(v)===JSON.stringify(m)){let e=p<10?"0"+p:p,t=g<10?"0"+g:g,n=JSON.parse(localStorage.getItem("records"))||[],l={size:`${d} x ${d}`,time:`${e} : ${t}`,step:`${f}`};n.push(l),localStorage.setItem("records",JSON.stringify(n)),function(){let e=p<10?"0"+p:p,t=g<10?"0"+g:g,n=document.createElement("div");n.className="overlay",n.innerHTML=`\n  <div class="win" onclick="event.stopPropagation()">\n    <div class="close">\n      <img class="modal-close" src="../src/assets/x_icon.png" alt="close">        \n    </div>\n    Hooray! You solved the puzzle in ${e} : ${t} and ${f} moves!\n  </div>`,document.body.append(n);let l=document.querySelector(".close");n.addEventListener("click",o),l.addEventListener("click",o)}()}}()}(e))))),document.querySelectorAll(".radio").forEach((e=>e.addEventListener("click",i)))}function b(e){const t=document.querySelectorAll(".cell");let n=0,o=0;for(let l=0;l<t.length;l+=e){for(let l=0;l<e;l++)n<=e**2-1&&(t[n].style.transform=`translate(${0+100*l}%, ${0+100*o}%)`,t[n].style.width=100/e+"%",t[n].style.height=100/e+"%",n++);o++}}function h(){const e=document.querySelector(".block-gamefild");let t="";for(let e=0;e<v.length;e++)0!==v[e]?t+=`<div class="cell" draggable="true">${v[e]}</div>`:t+=`<div class="cell empty" style="display: none">${v[e]}</div>`;e.innerHTML=t,b(d),S()}l(d),t(),b(d),function e(){document.querySelector(".time").textContent=`${p<10?"0"+p:p} : ${g<10?"0"+g:g}`,g++,g>=60&&(p++,g=0),setTimeout(e,1e3)}(),S()})();